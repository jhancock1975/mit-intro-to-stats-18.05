\documentclass[a4paper,11pt]{article}

\usepackage{amsmath}
\usepackage{amssymb}

% for proofs  environment
\usepackage{amsthm}

\usepackage[backend=bibtex]{biblatex}
\bibliography{prob-set-3}

% for probability trees
\usepackage{tikz}
\usetikzlibrary{trees}

% for Venn diagrams
\usetikzlibrary{shapes,backgrounds}
% for plots
\usepackage{ pgfplots}
% inserted on suggestion in warning during compilation
\pgfplotsset{compat=1.9}

%for strikethrough text
\usepackage{soul}

%for R source code listing
\usepackage{listings}

%for block quotes
\usepackage{csquotes}

% For not indenting the first line of paragraphs:
\setlength{\parindent}{0pt}
% define the title
\author{John Hancock}
\title{MIT Introduction to Statistics 18.05 Problem Set 3 }
\begin{document}
% generates the title
\maketitle
% insert the table of contents
\tableofcontents
\section{References and License}
We are answering questions in the material from MIT OpenCourseWare
course 18.05, Introduction to Probability and Statistics.

In this document we are answering questions Orloff and Bloom ask in
\cite{probSet3}.

Please see the references section for detailed citation information.

The material for the course is licensed under the terms at
\url{http://ocw.mit.edu/terms}.

We use documentation in \cite{vennDiagram}, \cite{nodePos}, \cite{plotPoints}
to write \LaTeX source code for this document.
\section{Independence}

In this section we answer a problem in \cite{probSet3} that involves rolling
two six sided dice.

\subsection{Pairwise and mutual independence}
We define two events, $A$, and $B$ to be pairwise independent if
$P \left( A \cap B \right) = P \left( A \right) P \left(B \right)$.

For this problem Orloff and Bloom give us the definition of mutual independence
for three events, $A$, $B$, and $C$.  $A$, $B$, and $C$ are mutally independent
if
\begin{equation}
	P \left( A \cap B \cap C\right)
	= P \left(A \right) P \left(B \right) P \left( C \right)
\end{equation}

In this section, Orloff and Bloom give the following definitions for events
$A$, $B$, and $C$:
\begin{itemize}
	\item $A$ is the event that we roll an odd number with the first die.
	\item $B$ is the event that we roll an odd number with the second die.
	\item $C$ is the event that the sum of the numbers we roll is odd.
\end{itemize}

$A$, $B$, and $C$ are not mutually independent.  Whatever the
$A$, $B$, and $C$ probabilities of $A$, $B$, and $C$ are individually, the
probability of  $P \left( A \cap B \cap C\right)$ is $0$ since the sum of two
odd numbers is always an even number.

\subsection{Venn diagram}

Orloff and Bloom give the following Venn diagram:

\def\firstcircle{(0,0) circle (1.5cm)}
\def\secondcircle{(45:2cm) circle (1.5cm)}
\def\thirdcircle{(0:2cm) circle (1.5cm)}

\begin{center}
\begin{tikzpicture}
\begin{scope}[shift={(3cm,-5cm)}, fill opacity=0.3]
        \fill[red] \firstcircle;
        \fill[green] \secondcircle;
        \fill[blue] \thirdcircle;
        \draw \firstcircle node[below, opacity=1] {$0.225$} node[xshift=1cm, yshift=0.5cm, opacity=1] {$0.125$} node[left, yshift=0.5cm, opacity=1] {$A$};
        \draw \secondcircle node [above, opacity=1] {$0.225$}
				%intersection of a and b below:
					node[below, xshift=0.5cm, opacity=1]{$0.1$}
				%intersection of b and c below:
					node[below, xshift=-1.14cm, opacity=1]{$0.05$}
					node[left, yshift=0.5cm, opacity=1] {$B$};
        \draw \thirdcircle node [below, opacity=1] {$0.175$}
					node[left, xshift=-0.75cm, yshift=-0.5cm, opacity=1]{0.1}
					node[left, yshift=0.5cm, opacity=1] {$C$};
					node[xshift=]
    \end{scope}
\end{tikzpicture}
\end{center}

And ask us whether or not the events in the Venn diagram above are mutually
independent.

These events are not mutually independent because
\begin{equation}
	P \left(A \right) P \left(B \right) P \left( C \right) =
		0.225 \times 0.225 \times 0.175 = 0.008859375.
\end{equation}

However, in the Venn diagram above, Orloff and Bloom give us that
$P \left( A \cap B \cap C\right) = 0.125$

Therefore the events are not mutually independent.

\subsection{How many kids}
For this question we use the same assumptions about the probability of the
gender that a child is born with that Orloff and Bloom use in example 9 of
\cite{reading4a}.

We define the following events:

\begin{itemize}
\item $A$ is the event that the children in a family are both boys and girls.
\item $B$ is the event that at most one of the children is a girl.
\item $C_{i,b}$ is the event that child number $i$ is a boy.
\item $C_{i,g}$ is the event that child number $i$ is a girl.
\end{itemize}

Our goal is to construct a sample space such that $A$ and $B$ are independent.
The definition of independent events is in \cite{reading3}.

We rely on the same assumption that Orloff and Bloom make in \cite{reading4a}
regarding the probability of the genders of sequences of children.

Therefore we assume  $P\left( C_{i,b} \right) = 0.5$, and $P\left( C_{i,g} \right) = 0.5$,
independent of the event that any other child is a boy or a girl.

We write the following table to discover the number of children where
$A$, and $B$ will meet the definition of independent events.

We fill in one cell in the table below for each possible
sequnce of three children in the family being boys
or girls.

\begin{center}
  \begin{tabular}{ | c | c | c | c | }
    \hline
	$C_{1,b}C_{2,b}C_{3,b}$ & $C_{1,b}C_{2,b}C_{3,g}$ & $C_{1,b}C_{2,g}C_{3,b}$ & $C_{1,b}C_{2,g}C_{3,g}$   \\ \hline
  $C_{1,g}C_{2,b}C_{3,b}$ & $C_{1,g}C_{2,b}C_{3,g}$ & $C_{1,g}C_{2,g}C_{3,b}$ & $C_{1,g}C_{2,g}C_{3,g}$   \\ \hline
  \end{tabular}
\end{center}

In the table above there are $6$ sequences that are in $A$, so $P\left( A \right) = \frac{6}{8}$.

Also, there are $4$ sequences in $B$, so $P\left( B \right) = \frac{4}{8}$.

Moreover, there are $3$ sequences where there is at most one girl, and
the children are both boys and girls.  Therefore $P\left( A \cap B \right) = \frac{3}{8}$.

$A$ and $B$ are indpendent since
\begin{equation}
P\left(A \right) P \left( B \right)
  = \left( \frac{6}{8} \right) \left( \frac{4}{8} \right)
  = \frac{24}{64} = \frac{3}{8}.
\end{equation}

Therefore $P\left(A \right) P\left(B \right) = P \left(A \cap B \right)$,
so $A$ and $B$ must be independent events.

We made these calculations assuming that there are $3$ children,
therefore the number of children we require in order for $A$, and
$B$ to be independent events is $3$.

\section{R simulation}

Note: we needed to refer to \cite{rStandardDev} to recall the R function for
standard deviation.

\subsection{Mean and standard deviation}

We use R functions to compute the mean and standard deviation of the data
that Orloff and Bloom give us for this problem:

\begin{lstlisting}
> mean(x)
[1] 2.554528
> sd(x)
[1] 2.07408
\end{lstlisting}

\subsection{Histogram of the data}

We rely on the examples in \cite{studio3} in order to write the R code to
produce the histogram Orloff and Bloom require.

The R code is
\begin{lstlisting}
binwidth = .1
bins = seq(min(x), max(x)+binwidth, binwidth)
hist(x, breaks=bins, col='yellow', freq=TRUE)
\end{lstlisting}

The histogram this code produces is:

\begin{center}
\includegraphics[scale=0.5]{histogram-prob2}
\end{center}

\subsection{Conclusions on the data}
The mean value of the data that we use R to compute above tells us that
the mean number of years a patient lives after receiving the treatment is
approximately $2.555$ years.  However, the standard deviation we compute
using R tells us that the spread of values in the data is approximately
$\frac{4}{5}$ of the mean number of years that a patient is expected to live
after receiving the treatment.  That means that we have many values in the
data that are larger and smaller than the mean value of the data. The histogram
we plot bears this out; we see taller bins on the left and
right hand sides of the histogram.

\subsection{Effectiveness of the treatment}
The tallest bin is on the right hand side of the histogram.  To us, this implies
that for some patients, the treatment is effective.  We would recommend
research to determine what thing or things the patients whose data lies in
the rightmost bins have in common.  Furthermore we would recommend that we
conduct experiments to determine which of the things these patients have in
common is or are the thing(s) that implies or imply the treatment is effective.

\section{Dice}

In this section we will deal with problems that Orloff and
Bloom ask about the random variable $X$, that is equal to the value
we roll with a fair $4$-sided die, the random variable
$Y$, that is equal to the value we roll with a fair $6$ sided die,
and the random variable $Z$, that is equal to the average
of $X$ and $Y$.

\subsection{Standard deviation of $X$, $Y$, and $Z$}


We use the definition of variance and standard deviation in \cite{reading5a} to
calculate the standard deviations $\sigma \left( X \right)$, $\sigma \left( Y \right)$.

We use the exact same method to calculate the variance of a discrete random
variable many times. For details on how to do the calculation see
\cite{reading5aAns}.  We calculate the variance of $X$, and $Y$, then take
the square root of the variance to obtain the standard deviation.

Here are the results:

\begin{equation}
  \sigma_{X} \approx 1.118.
\end{equation}

\begin{equation}
	sigma_{Y} \approx 1.708.
\end{equation}

In order to calculate the variance of $Z$, we can use properties of variance
that Orloff and Bloom show in \cite{reading5a}.

$X$ and $Y$ are independent random variables; the value we roll with a fair four
sided die has no effect on the value we roll with a fair six sided die.
Therefore the equation
\begin{equation}
	\text{Var}\left(X + Y \right)
	= \text{Var}\left(X \right) + \text{Var}\left( Y \right).
\end{equation}

We will also use the property of variance Orloff and Bloom show in
\cite{reading5a} that
\begin{equation}
	\text{Var}\left(X \right) = a^{2}\text{Var}\left(X \right).
\end{equation}

Therefore, in the scope of this problem,
\begin{equation}
	\text{Var} \left(frac{X+Y}{2} \right)
		= \text{Var}\left( \frac{X}{2} + \frac{Y}{2} \right)
		= \frac{1}{4} \left( \text{Var}\left( X \right)
			+ \text{Var}\left( Y \right)\right).
\end{equation}

We use the values we calculated for $\text{Var}\left(X \right)$, and
$\text{Var}\left(Y \right)$ above,
\begin{equation}
	\text{Var}\left(Z \right) \approx \frac{1}{4}\left(1.118 + 1.708 \right)
		\approx 0.707
\end{equation}

Standard deviation is the square root of variance, so
\begin{equation}
	\sigma_{z} \approx \sqrt{\frac{1}{4}\left(1.118^{2} + 1.708^{2} \right)}
		\approx 1.021
\end{equation}

\subsection{Graph pmf and cdf of $Z$}

We use R to simulate rolling the dice.  We find documentation in \cite{rTable}
helpful in writing this source code.  Here is a listing of the R source
code:
\begin{lstlisting}
y=sample(c(1:6), replace = TRUE, 1000000)
x=sample(c(1:4), replace = TRUE, 1000000)
z=(x+y)/2
zTable = table(z)
zTable/1000000
\end{lstlisting}

The output of this program is:
\begin{lstlisting}
	z
       1      1.5        2      2.5        3      3.5        4      4.5        5
0.041375 0.083538 0.125244 0.167014 0.166669 0.167029 0.124364 0.083153 0.041614
\end{lstlisting}

We look at the numerical inverses of the values in the second row of the
table above to get a clue about the probability mass of each possible value
of $Z$.  Here again we utilize R to compute the inverses:

\begin{lstlisting}
freqs=c(0.041375, 0.083538, 0.125244, 0.167014, 0.166669, 0.167029, 0.124364, 0.083153, 0.041614 )
1/freqs
\end{lstlisting}

We execute the code above to get the result
\begin{lstlisting}
24.169184 11.970600  7.984414  5.987522  5.999916  5.986984  8.040912 12.026024 24.030374
\end{lstlisting}

Now it becomes clear that we can approximate the frequencies of the values of
$Z$ as fractions with $24$ in the denominator.  We summarize this approximation
in the table below, and make a guess as to the value of the pmf of $Z$:

\begin{center}
  \begin{tabular}{ | c | c | c | c | c | c | c | c | c | c |}
    \hline
	$Z$ & 1 & 1.5 & 2 & 2.5 & 3 & 3.5 & 4 & 4.5 & 5  \\ \hline
  pmf $p\left( z \right)$ ? & $\frac{1}{24}$ & $\frac{2}{24}$ & $\frac{3}{24}$ &
		$\frac{4}{24}$ & $\frac{4}{24}$ & $\frac{4}{24}$ & $\frac{3}{24}$ & $\frac{2}{24}$ &
		$\frac{1}{24}$ \\ \hline
  \end{tabular}
\end{center}
The data from the sumulation inspires us to make the following reasoning about
the pmf of $Z$:  There are $6 \times 4$ possible pairs of values we can roll
with the two dice.  To compute the value of $Z$ we add the pair of values, and
divide by $2$.  Some of the values of $Z$ will occur more frequently because
there are more values of $X$ and $Y$ divided by $2$ that equal a particular
value of $Z$.  $1.5=\frac{1+2}{2}$, and $1.5=\frac{2+1}{2}$.  The order of
terms in the sum is important because the first number is the value we roll
with the $4$-sided die, and the second number is the value we roll with the
$6$-sided die.  $2=\frac{1+3}{2}=\frac{2+2}{2}=\frac{3+1}{2}$.
$2.5=\frac{1+4}{2}=\frac{2+3}{2}=\frac{3+2}{2}=\frac{4+1}{2}$.
$3=\frac{1+5}{2}=\frac{2+4}{2}=\frac{3+3}{2}=\frac{4+2}{2}$.
$3.5=\frac{1+6}{2}=\frac{2+5}{2}=\frac{3+4}{2}=\frac{4+3}{2}$.
$4=\frac{2+6}{2}=\frac{3+5}{2}=\frac{4+4}{2}$.
$4.5=\frac{3+6}{2}=\frac{4+5}{2}$
$5=\frac{4+6}{2}$.  Hence the pmf for a particular value of $Z$ is the number
of ways of summing a value between $1$ and $4$, and a value between $1$ and
$6$, and dividing by $2$ to equal $Z$.

Therefore the tentative pmf we write in the table above is the pmf for $Z$.

Here is a plot of the pmf:
\begin{center}
 \begin{tikzpicture}[x=1cm,y=2cm]


 \draw[latex-latex, thin, draw=gray] (0,0)--(6,0) node [right] {$x$}; % l'axe des abscisses
 \draw[latex-latex, thin, draw=gray] (0,0)--(0,1) node [above] {$y$}; % l'axe des ordonnées

\foreach \Point in {(1, 0.0417), (1.5, 0.08333), (2, 0.125), (2.5, 0.16667), (3, 0.16667),
	(3.5, 0.166667), (4, 0.125), (4.5, 0.08333), (5, 0.0417)}{
    \node at \Point {\textbullet};
}

% to ensure that the points are being properly centered:
\draw [dotted, gray] (0,0) grid (6,1);

\end{tikzpicture}
\end{center}

Orloff and Bloom ask for a plot of the of the cumulative distribution function
(CDF) of $Z$.

Orloff and Bloom define and explain how to calculate the CDF in
\cite{reading4a}.

Here is a plot of the cdf of $Z$:
\begin{center}
 \begin{tikzpicture}[x=1cm,y=2cm]


 \draw[latex-latex, thin, draw=gray] (0,0)--(6,0) node [right] {$x$}; % l'axe des abscisses
 \draw[latex-latex, thin, draw=gray] (0,0)--(0,1) node [above] {$y$}; % l'axe des ordonnées

\foreach \Point in {(1, 0.0417), (1.5, 0.12503), (2, 0.25003), (2.5, 0.417), (3, 0.583),
	(3.5, 0.75), (4, 0.875), (4.5, 0.958), (5, 1.0)}{
    \node at \Point {\textbullet};
}
% to ensure that the points are being properly centered:
\draw [dotted, gray] (0,0) grid (6,1);
\end{tikzpicture}
\end{center}

\subsection{Game}

In this section we answer the quesion Orloff and Bloom pose regarding a game
where we win $2X$ dollars if $X > Y$ and we lose $1$ dollar otherwise.

They ask us after playing the game $60$ times, what is our expected total gain
or loss.

In order to answer, we need to know the probability $P \left(X > Y \right)$.

We wrote the following R simulation to get an idea of what
$P \left(X > Y \right)$ is.

\begin{lstlisting}
winCount=0
loseCount=0
for ( i in 1:100000){
  x=sample(c(1:4), replace=TRUE, 1)
  y=sample(c(1:6), replace=TRUE, 1)
  if (x > y){
    winCount = winCount + 1
  } else{
    loseCount = loseCount + 1
  }
}
print(winCount/1000);
\end{lstlisting}

The output of this simulation is close to 0.25 every time we run it, so
we should be able to find a reason why $P \left(X > Y \right) = 0.25$.

These are the possible combinations of values we can roll with a $6$-sided
die, and a $4$-sided die. We deonte a pair of values where we win with a
$W$, and a pair of values where we loose with an $L$.

The first value in each pair is the value we roll with the $4$-sided die, and
the second value in each pair is the value we roll with the $6$-sided die.

$1, 1 L$, $2, 1 W$, $3, 1 W$, $4, 1 W$

$1 ,2 L$, $2, 2 L$, $3, 2 W$, $4, 2 W$

$1 ,3 L$, $2, 3 L$, $3, 3 L$, $4, 3 W$

$1 ,4 L$, $2, 4 L$, $3, 4 L$, $4, 4 L$

$1 ,5 L$, $2, 5 L$, $3, 5 L$, $4, 5 L$

$1 ,6 L$, $2, 6 L$, $3, 6 L$, $4, 6 L$

Now, to calculate the probability that $X > Y$, we count the number of $W$'s
above, and divide by the sum of the number of $W$'s and $L$'s.

There are $6$ $W$'s  and $24$ $W$'s and $L$'s, so the probability that
$X > Y$ is $\frac{6}{24} = \frac{1}{4}$.

We calculate the expected number of dollars we win or lose playing one round
of the game, then multiply that number by 60 to compute our expceted profit
or loss playing 60 rounds of the game.

We define $W$ as the event that we win. $P\left( W \right)$ is the probability
of winning one round of the game, and $1-P\left( W \right)$ is the probability
of losing one round of the game. Then by what we show immediately above,
$P\left( W \right) = \frac{1}{4}$.

We introduce two new discrete random variables:
\begin{itemize}
	\item $X^{\prime}$: the number of dollars we win playing one round of the
		game.
	\item $Y^{\prime}$: the number of dollars we lose plaing one round of the
		game.
\end{itemize}

We define a third random variable $W^{\prime}$ to be  $X^{\prime}-Y^{\prime}$.
$Wi^{\prime}$ is the number of dollars we win or lose playing one round of the
game.

Now we can use the definition of expected value \cite{reading4a} to obtain the
expected value of our profit or loss playing the game.

\begin{equation} \label{expectedW}
E \left( W^{\prime} \right) = P\left( W \right) E \left( X^{\prime} \right)
	- \left( 1 - P \left(W \right)\right) E \left(Y^{\prime} \right)
\end{equation}

Now we consider how to calculate $E\left( X^{\prime} \right)$.  We show above that
we have a $\frac{1}{4}$ probability of winning the game.  We remind the reader
that Orloff and Bloom give us that we are playing with fair dice in this
problem. We show in the listing of possible outcomes of the game above that
there are $6$ outcomes where we win.  Since the dice are fair, each of the
$6$ outcomes are equally likely, but we win the same number of dollars
for some of the outcomes.  So the expected number of dollars we can win
playing one round of the game is:
\begin{equation}
	\frac{4+6+6+8+8+8}{6}=\frac{40}{6}=6\frac{2}{3}.
\end{equation}

According to the rules of the game that Orloff and Bloom give, the expected
number of dollars we can lose playing one round of the game is $1$ dollar.

Now we have values for all of the quantities on the right hand side of
equation \ref{expectedW}.  Hence

\begin{equation}
E \left( W^{\prime} \right) = \frac{1}{4}\times \$ 6 \frac{2}{3} -
	\left( 1 - \frac{1}{4} \right) \times \$ 1
	\approx \$0.917.
\end{equation}

Therefore, if we play $60$ rounds of the game, we expect to win approximately
$60 \times \$0.917 = \$55.02$.
\printbibliography{}
\end{document}
